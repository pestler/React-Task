exports.id=382,exports.ids=[382],exports.modules={178:e=>{e.exports={resultBox:"card-list_resultBox__Ub47B",cardList:"card-list_cardList__CKKub",titleBox:"card-list_titleBox__gtkS9",title:"card-list_title__V0R__",resultBoxItems:"card-list_resultBoxItems__uQ5tz",cardContainer:"card-list_cardContainer__Akin7"}},285:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>I});var l=r(8732),s=r(2015),o=r.n(s),a=r(9737),n=r.n(a),i=r(4632),c=r(4018);let d=()=>{let e=(0,s.useContext)(c.D);if(console.log(e),!e)throw Error("useTheme must be used within a ThemeProvider");return e},u=({onFormSubmit:e,initValue:t})=>{let[r,s]=o().useState(t),{theme:a}=d();return(0,l.jsx)(i.N,{children:(0,l.jsxs)("div",{className:n().header,style:{backgroundColor:a.backgroundColor,color:a.color},children:[(0,l.jsx)("header",{children:(0,l.jsx)("h3",{style:{fontSize:"20px",fontWeight:"bold",marginBottom:"10px",marginTop:"10px",marginLeft:"100px",alignItems:"center"},children:"Top controls"})}),(0,l.jsx)("div",{children:(0,l.jsxs)("form",{onSubmit:t=>{t.preventDefault(),e(t,r)},className:n().form,children:[(0,l.jsxs)("label",{style:{marginLeft:"20px"},children:["Name:",(0,l.jsx)("input",{type:"text",value:r,onChange:e=>{s(e.target.value)},placeholder:"Enter name",className:n().input,autoFocus:!0,maxLength:20})]}),(0,l.jsx)("button",{type:"submit",className:"btn",children:"Search"})]})})]})})};var h=r(178),x=r.n(h),m=r(4900),g=r.n(m),_=r(4233);let j=({id:e,name:t,onClick:r,selectedItems:s,setSelectedItems:a})=>{let[n,i]=o().useState(()=>s.some(t=>t.id===e)),c=(0,_.useRouter)();o().useEffect(()=>{i(s.some(t=>t.id===e))},[s,e]);let{theme:u}=d();return(0,l.jsxs)("div",{className:g().cardContainer,style:{backgroundColor:u.backgroundColor,color:u.color},children:[(0,l.jsxs)("div",{className:g().cardBox,children:[(0,l.jsx)("h3",{children:t}),(0,l.jsx)("div",{className:g().clickDetail,onClick:()=>{let t=c.asPath,l=`/details/${e}`;t===l?(c.push("/",void 0,{shallow:!0}),r(void 0)):(c.push(`/?id=${e}`,l,{shallow:!0}),r(e))},children:"View Details"})]}),(0,l.jsx)("div",{className:g().favoriteBox,children:(0,l.jsx)("button",{"data-testid":"favorite-button",onClick:()=>{let r=!n;i(r),r?a([...s,{id:e,name:t}]):a(s.filter(t=>t.id!==e))},className:n?"favorite":"",style:{cursor:"pointer",border:"none",background:"none"},children:(0,l.jsx)("span",{className:g().icon,children:n?"❤️":"♡"})})})]})};var p=r(9618),b=r.n(p);let f=({item:e,onClose:t})=>{let{theme:r}=d();return e?(0,l.jsxs)("div",{className:b().details,style:{backgroundColor:r.backgroundColor,color:r.color},children:[(0,l.jsx)("button",{onClick:t,children:"Close"}),(0,l.jsx)("h2",{children:e.name}),(0,l.jsxs)("p",{children:["Gender: ",e.gender]}),(0,l.jsxs)("p",{children:["Height: ",e.height]}),(0,l.jsxs)("p",{children:["Mass: ",e.mass]}),(0,l.jsxs)("p",{children:["Hair Color: ",e.hair_color]})]}):null};var v=r(846),C=r.n(v);let N=({selectedItems:e,setSelectedItems:t})=>{let[r,o]=(0,s.useState)(null),a=(0,s.useRef)(null);return 0===e.length?null:(0,l.jsxs)("div",{className:C().flyout,children:[(0,l.jsxs)("p",{children:["Selected items: ",e.length]}),(0,l.jsx)("button",{onClick:()=>{t([])},children:"Clear All"}),(0,l.jsx)("button",{onClick:()=>{if(0===e.length)return;let t=[Object.keys(e[0])];e.forEach(e=>{t.push(Object.values(e).map(e=>"object"==typeof e?JSON.stringify(e):String(e)))});let r="";t.forEach(e=>{r+=e.join(";")+"\n"});let l=new Blob([r],{type:"text/csv;charset=utf-8"}),s=URL.createObjectURL(l);o(s),setTimeout(()=>{a.current&&(a.current.click(),URL.revokeObjectURL(s),o(null))},0)},children:"Download CSV"}),(0,l.jsx)("a",{ref:a,href:r||"",download:`${e.length}_items.csv`,style:{display:"none"},children:"Download"})]})},S=({data:e,page:t})=>{let r=(0,_.useRouter)(),{id:o}=r.query,[a,n]=(0,s.useState)(null),[i,c]=(0,s.useState)([]);(0,s.useEffect)(()=>{if(void 0!==o){let r=Number(o);n(e.find((e,l)=>(t-1)*10+l===r)||null)}},[e,o,t]);let u=t=>{void 0===t?n(null):n(e[t]||null)},{theme:h}=d();return(0,l.jsxs)("div",{className:x().cardList,style:{backgroundColor:h.backgroundColor,color:h.color},children:[(0,l.jsxs)("div",{style:{display:"flex",paddingLeft:"100px",paddingRight:"10px",flexDirection:"row",gap:"10px"},children:[(0,l.jsx)("h4",{style:{display:"flex"},children:"Item Name"}),(0,l.jsx)("h4",{style:{display:"flex"},children:"Item Description"})]}),(0,l.jsxs)("div",{className:x().resultBox,children:[(0,l.jsx)("h3",{className:x().title,children:"Results"}),e.length>0?(0,l.jsxs)("div",{className:x().resultBoxItems,children:[(0,l.jsx)("div",{className:x().cardContainer,children:e.map((e,r)=>(0,l.jsx)(j,{id:(t-1)*10+r,name:e.name,onClick:u,selectedItems:i,setSelectedItems:c},r))}),a&&(0,l.jsx)(f,{item:a,onClose:()=>{n(null),r.push("/",void 0,{shallow:!0})}})]}):(0,l.jsx)("div",{className:x().resultErrorDescription,children:(0,l.jsx)("h3",{children:"No results found."})})]}),(0,l.jsx)(N,{selectedItems:i,setSelectedItems:c})]})};var k=r(2366),y=r.n(k);let w=({searchQuery:e,initialPeople:t})=>{let[r]=(0,s.useState)(t),[o,a]=(0,s.useState)(t),[n,i]=(0,s.useState)([]),[c,u]=(0,s.useState)(!1),[h]=(0,s.useState)(null),[x,m]=(0,s.useState)(1);(0,s.useEffect)(()=>{u(!0),e?(a(r.filter(t=>t.name.toLowerCase().includes(e.toLowerCase()))),m(1)):a(r),u(!1)},[e,r]),(0,s.useEffect)(()=>{let e=(x-1)*10,t=10*x;o.length>0&&i(o.slice(e,t))},[x,o]);let{theme:g}=d();return(0,l.jsxs)("div",{className:y().mainBox,style:{backgroundColor:g.backgroundColor,color:g.color},children:[c&&(0,l.jsx)("span",{className:y().loading,children:"Loading..."}),h&&(0,l.jsxs)("span",{className:y().error,children:["Error: ",h]}),!c&&!h&&o&&(0,l.jsxs)("span",{className:y().showing,children:["Showing ",10*x-9,"-",10*x," of ",o.length]}),(0,l.jsx)("button",{onClick:()=>m(e=>e>1?e-1:1),disabled:1===x,className:y().button,children:"Previous Page"}),(0,l.jsx)("button",{onClick:()=>m(e=>e+1),disabled:!o||10*x>=o.length,className:y().button,children:"Next Page"}),n.length>0?(0,l.jsx)(S,{data:n,page:x}):(0,l.jsx)("p",{style:{height:"30vh",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"2rem",color:"rgb(180, 187, 195)"},children:"No data available"})]})};var B=r(4803),L=r.n(B),D=r(7920);let P=()=>{let{theme:e,toggleTheme:t}=d();return(0,l.jsx)("button",{className:"btn",onClick:t,children:e===D.a?"Switch to Light Mode":"Switch to Dark Mode"})},E=(e,t)=>{let[r,l]=(0,s.useState)(()=>{try{let r=localStorage.getItem(e);return r?JSON.parse(r):t}catch(e){return console.error(e),t}});return[r,t=>{try{l(t),localStorage.setItem(e,JSON.stringify(t))}catch(e){console.error(e)}},()=>{try{localStorage.removeItem(e),l(t)}catch(e){console.error(e)}}]},I=({initialPeople:e,initialSearchQuery:t})=>{let[,r]=(0,s.useState)(t),[o,a]=E("searchQuery",t);t=o;let{theme:n}=d();return(0,l.jsx)(i.N,{children:(0,l.jsxs)("div",{className:L().homePage,style:{background:n.background,backgroundColor:n.backgroundColor,color:n.color,backgroundSize:"cover",height:"100%"},children:[(0,l.jsx)(P,{}),(0,l.jsxs)("div",{className:L().container,children:[(0,l.jsx)("h1",{style:{color:"rgb(180, 187, 195)",fontSize:"3rem"},children:"Star Wars Characters"}),(0,l.jsx)("div",{className:L().searchAndPaginate,children:(0,l.jsxs)("div",{className:L().containerSearchMain,children:[(0,l.jsx)(u,{onFormSubmit:(e,t)=>{e.preventDefault(),r(t),a(t)},initValue:o}),(0,l.jsx)(w,{searchQuery:o,initialPeople:e})]})})]})]})})}},846:e=>{e.exports={flyout:"flyout_flyout___U1_5"}},2366:e=>{e.exports={loading:"main_loading__oNge5",error:"main_error__fX6PE",showing:"main_showing__L3nQV",button:"main_button__puE7w"}},2386:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var l=r(8732),s=r(4632);r(2768);let o=function({Component:e,pageProps:t}){return(0,l.jsx)(s.N,{children:(0,l.jsx)(e,{...t})})}},2768:()=>{},4018:(e,t,r)=>{"use strict";r.d(t,{D:()=>l});let l=(0,r(2015).createContext)(void 0)},4632:(e,t,r)=>{"use strict";r.d(t,{N:()=>n});var l=r(8732),s=r(2015),o=r(4018),a=r(7920);let n=({children:e})=>{let[t,r]=(0,s.useState)(a._);return(0,l.jsx)(o.D.Provider,{value:{theme:t,toggleTheme:()=>{r(t===a._?a.a:a._)}},children:e})}},4803:e=>{e.exports={homePage:"HomePage_homePage__aFdrF",container:"HomePage_container__qsO8g",searchAndPaginateContainer:"HomePage_searchAndPaginateContainer__ikd7A",cardsDetailContainer:"HomePage_cardsDetailContainer__rLz3l"}},4900:e=>{e.exports={cardContainer:"card_cardContainer__Zxf4R",cardBox:"card_cardBox__G1t0p",clickDetail:"card_clickDetail__O6luN",title:"card_title__BWVRo",favoriteBox:"card_favoriteBox__jPrmB",icon:"card_icon__eHr_A"}},7920:(e,t,r)=>{"use strict";r.d(t,{_:()=>l,a:()=>s});let l={background:'url("./light.jpg") no-repeat center center,rgb(203, 219, 233)',backgroundColor:"#f5f5f5 ",color:"rgb(50, 57, 65)"},s={background:'url("./dark.jpg") no-repeat center center,rgb(38, 85, 136)',backgroundColor:"#7d5757 ",color:"rgb(226, 230, 235)"}},9618:e=>{e.exports={details:"details_details__TLy5J"}},9737:e=>{e.exports={header:"buttonSearch_header__yfLZS",form:"buttonSearch_form__pLXw5",resultErrorDescription:"buttonSearch_resultErrorDescription__Q1Qoc"}}};