(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[404],{2085:e=>{e.exports={header:"buttonSearch_header__yfLZS",form:"buttonSearch_form__pLXw5",resultErrorDescription:"buttonSearch_resultErrorDescription__Q1Qoc"}},3532:e=>{e.exports={loading:"main_loading__oNge5",error:"main_error__fX6PE",showing:"main_showing__L3nQV",button:"main_button__puE7w"}},4230:e=>{e.exports={cardContainer:"card_cardContainer__Zxf4R",cardBox:"card_cardBox__G1t0p",clickDetail:"card_clickDetail__O6luN",title:"card_title__BWVRo",favoriteBox:"card_favoriteBox__jPrmB",icon:"card_icon__eHr_A"}},5228:e=>{e.exports={flyout:"flyout_flyout___U1_5"}},5752:e=>{e.exports={details:"details_details__TLy5J"}},7404:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>E});var l=r(7876),s=r(4232),a=r(2085),o=r.n(a),n=r(1337),i=r(6531);let c=()=>{let e=(0,s.useContext)(i.D);if(console.log(e),!e)throw Error("useTheme must be used within a ThemeProvider");return e},d=e=>{let{onFormSubmit:t,initValue:r}=e,[a,i]=s.useState(r),{theme:d}=c();return(0,l.jsx)(n.N,{children:(0,l.jsxs)("div",{className:o().header,style:{backgroundColor:d.backgroundColor,color:d.color},children:[(0,l.jsx)("header",{children:(0,l.jsx)("h3",{style:{fontSize:"20px",fontWeight:"bold",marginBottom:"10px",marginTop:"10px",marginLeft:"100px",alignItems:"center"},children:"Top controls"})}),(0,l.jsx)("div",{children:(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(e,a)},className:o().form,children:[(0,l.jsxs)("label",{style:{marginLeft:"20px"},children:["Name:",(0,l.jsx)("input",{type:"text",value:a,onChange:e=>{i(e.target.value)},placeholder:"Enter name",className:o().input,autoFocus:!0,maxLength:20})]}),(0,l.jsx)("button",{type:"submit",className:"btn",children:"Search"})]})})]})})};var u=r(8344),h=r.n(u),x=r(4230),m=r.n(x),_=r(9099);let g=e=>{let{id:t,name:r,onClick:a,selectedItems:o,setSelectedItems:n}=e,[i,d]=s.useState(()=>o.some(e=>e.id===t)),u=(0,_.useRouter)();s.useEffect(()=>{d(o.some(e=>e.id===t))},[o,t]);let{theme:h}=c();return(0,l.jsxs)("div",{className:m().cardContainer,style:{backgroundColor:h.backgroundColor,color:h.color},children:[(0,l.jsxs)("div",{className:m().cardBox,children:[(0,l.jsx)("h3",{children:r}),(0,l.jsx)("div",{className:m().clickDetail,onClick:()=>{let e=u.asPath,r="/details/".concat(t);e===r?(u.push("/",void 0,{shallow:!0}),a(void 0)):(u.push("/?id=".concat(t),r,{shallow:!0}),a(t))},children:"View Details"})]}),(0,l.jsx)("div",{className:m().favoriteBox,children:(0,l.jsx)("button",{"data-testid":"favorite-button",onClick:()=>{let e=!i;d(e),e?n([...o,{id:t,name:r}]):n(o.filter(e=>e.id!==t))},className:i?"favorite":"",style:{cursor:"pointer",border:"none",background:"none"},children:(0,l.jsx)("span",{className:m().icon,children:i?"❤️":"♡"})})})]})};var j=r(5752),p=r.n(j);let f=e=>{let{item:t,onClose:r}=e,{theme:s}=c();return t?(0,l.jsxs)("div",{className:p().details,style:{backgroundColor:s.backgroundColor,color:s.color},children:[(0,l.jsx)("button",{onClick:r,children:"Close"}),(0,l.jsx)("h2",{children:t.name}),(0,l.jsxs)("p",{children:["Gender: ",t.gender]}),(0,l.jsxs)("p",{children:["Height: ",t.height]}),(0,l.jsxs)("p",{children:["Mass: ",t.mass]}),(0,l.jsxs)("p",{children:["Hair Color: ",t.hair_color]})]}):null};var b=r(5228),v=r.n(b);let C=e=>{let{selectedItems:t,setSelectedItems:r}=e,[a,o]=(0,s.useState)(null),n=(0,s.useRef)(null);return 0===t.length?null:(0,l.jsxs)("div",{className:v().flyout,children:[(0,l.jsxs)("p",{children:["Selected items: ",t.length]}),(0,l.jsx)("button",{onClick:()=>{r([])},children:"Clear All"}),(0,l.jsx)("button",{onClick:()=>{if(0===t.length)return;let e=[Object.keys(t[0])];t.forEach(t=>{e.push(Object.values(t).map(e=>"object"==typeof e?JSON.stringify(e):String(e)))});let r="";e.forEach(e=>{r+=e.join(";")+"\n"});let l=new Blob([r],{type:"text/csv;charset=utf-8"}),s=URL.createObjectURL(l);o(s),setTimeout(()=>{n.current&&(n.current.click(),URL.revokeObjectURL(s),o(null))},0)},children:"Download CSV"}),(0,l.jsx)("a",{ref:n,href:a||"",download:"".concat(t.length,"_items.csv"),style:{display:"none"},children:"Download"})]})},N=e=>{let{data:t,page:r}=e,a=(0,_.useRouter)(),{id:o}=a.query,[n,i]=(0,s.useState)(null),[d,u]=(0,s.useState)([]);(0,s.useEffect)(()=>{if(void 0!==o){let e=Number(o);i(t.find((t,l)=>(r-1)*10+l===e)||null)}},[t,o,r]);let x=e=>{void 0===e?i(null):i(t[e]||null)},{theme:m}=c();return(0,l.jsxs)("div",{className:h().cardList,style:{backgroundColor:m.backgroundColor,color:m.color},children:[(0,l.jsxs)("div",{style:{display:"flex",paddingLeft:"100px",paddingRight:"10px",flexDirection:"row",gap:"10px"},children:[(0,l.jsx)("h4",{style:{display:"flex"},children:"Item Name"}),(0,l.jsx)("h4",{style:{display:"flex"},children:"Item Description"})]}),(0,l.jsxs)("div",{className:h().resultBox,children:[(0,l.jsx)("h3",{className:h().title,children:"Results"}),t.length>0?(0,l.jsxs)("div",{className:h().resultBoxItems,children:[(0,l.jsx)("div",{className:h().cardContainer,children:t.map((e,t)=>(0,l.jsx)(g,{id:(r-1)*10+t,name:e.name,onClick:x,selectedItems:d,setSelectedItems:u},t))}),n&&(0,l.jsx)(f,{item:n,onClose:()=>{i(null),a.push("/",void 0,{shallow:!0})}})]}):(0,l.jsx)("div",{className:h().resultErrorDescription,children:(0,l.jsx)("h3",{children:"No results found."})})]}),(0,l.jsx)(C,{selectedItems:d,setSelectedItems:u})]})};var S=r(3532),y=r.n(S);let k=e=>{let{searchQuery:t,initialPeople:r}=e,[a]=(0,s.useState)(r),[o,n]=(0,s.useState)(r),[i,d]=(0,s.useState)([]),[u,h]=(0,s.useState)(!1),[x]=(0,s.useState)(null),[m,_]=(0,s.useState)(1);(0,s.useEffect)(()=>{h(!0),t?(n(a.filter(e=>e.name.toLowerCase().includes(t.toLowerCase()))),_(1)):n(a),h(!1)},[t,a]),(0,s.useEffect)(()=>{let e=(m-1)*10,t=10*m;o.length>0&&d(o.slice(e,t))},[m,o]);let{theme:g}=c();return(0,l.jsxs)("div",{className:y().mainBox,style:{backgroundColor:g.backgroundColor,color:g.color},children:[u&&(0,l.jsx)("span",{className:y().loading,children:"Loading..."}),x&&(0,l.jsxs)("span",{className:y().error,children:["Error: ",x]}),!u&&!x&&o&&(0,l.jsxs)("span",{className:y().showing,children:["Showing ",10*m-9,"-",10*m," of ",o.length]}),(0,l.jsx)("button",{onClick:()=>_(e=>e>1?e-1:1),disabled:1===m,className:y().button,children:"Previous Page"}),(0,l.jsx)("button",{onClick:()=>_(e=>e+1),disabled:!o||10*m>=o.length,className:y().button,children:"Next Page"}),i.length>0?(0,l.jsx)(N,{data:i,page:m}):(0,l.jsx)("p",{style:{height:"30vh",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"2rem",color:"rgb(180, 187, 195)"},children:"No data available"})]})};var w=r(8507),B=r.n(w),L=r(541);let P=()=>{let{theme:e,toggleTheme:t}=c();return(0,l.jsx)("button",{className:"btn",onClick:t,children:e===L.a?"Switch to Light Mode":"Switch to Dark Mode"})},D=(e,t)=>{let[r,l]=(0,s.useState)(()=>{try{let r=localStorage.getItem(e);return r?JSON.parse(r):t}catch(e){return console.error(e),t}});return[r,t=>{try{l(t),localStorage.setItem(e,JSON.stringify(t))}catch(e){console.error(e)}},()=>{try{localStorage.removeItem(e),l(t)}catch(e){console.error(e)}}]},E=e=>{let{initialPeople:t,initialSearchQuery:r}=e,[,a]=(0,s.useState)(r),[o,i]=D("searchQuery",r);r=o;let{theme:u}=c();return(0,l.jsx)(n.N,{children:(0,l.jsxs)("div",{className:B().homePage,style:{background:u.background,backgroundColor:u.backgroundColor,color:u.color,backgroundSize:"cover",height:"100%"},children:[(0,l.jsx)(P,{}),(0,l.jsxs)("div",{className:B().container,children:[(0,l.jsx)("h1",{style:{color:"rgb(180, 187, 195)",fontSize:"3rem"},children:"Star Wars Characters"}),(0,l.jsx)("div",{className:B().searchAndPaginate,children:(0,l.jsxs)("div",{className:B().containerSearchMain,children:[(0,l.jsx)(d,{onFormSubmit:(e,t)=>{e.preventDefault(),a(t),i(t)},initValue:o}),(0,l.jsx)(k,{searchQuery:o,initialPeople:t})]})})]})]})})}},8344:e=>{e.exports={resultBox:"card-list_resultBox__Ub47B",cardList:"card-list_cardList__CKKub",titleBox:"card-list_titleBox__gtkS9",title:"card-list_title__V0R__",resultBoxItems:"card-list_resultBoxItems__uQ5tz",cardContainer:"card-list_cardContainer__Akin7"}},8507:e=>{e.exports={homePage:"HomePage_homePage__aFdrF",container:"HomePage_container__qsO8g",searchAndPaginateContainer:"HomePage_searchAndPaginateContainer__ikd7A",cardsDetailContainer:"HomePage_cardsDetailContainer__rLz3l"}},9099:(e,t,r)=>{e.exports=r(8253)}}]);